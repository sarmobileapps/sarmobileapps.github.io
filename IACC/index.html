<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="refresh" content="1800">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: Verdana, sans-serif;
        }

        .mySlides {
            display: none;
        }

        img {
            vertical-align: middle;
        }

        /* Slideshow container */
        .slideshow-container {
            /* max-width: 1000px; */

            position: relative;
            margin: auto;
        }

        /* Caption text */
        .text {
            color: #f2f2f2;
            font-size: 15px;
            padding: 8px 12px;
            position: absolute;
            bottom: 8px;
            width: 100%;
            text-align: center;
        }

        /* Number text (1/3 etc) */
        .numbertext {
            color: #f2f2f2;
            font-size: 8px;
            padding: 8px 12px;
            position: absolute;
            top: 0;
        }

        /* The dots/bullets/indicators */
        .dot {
            height: 15px;
            width: 15px;
            margin: 0 2px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.6s ease;
        }

        .active {
            background-color: #717171;
        }

        /* Fading animation */
        .fade {
            animation-name: fade;
            animation-duration: 1.5s;
        }

        .timewidget {
            height: 20vh;
        }

        @keyframes fade {
            from {
                opacity: .4
            }

            to {
                opacity: 1
            }
        }

        /* On smaller screens, decrease text size */
        @media only screen and (max-width: 300px) {
            .text {
                font-size: 11px
            }
        }

        .float-container {
            padding: 2px;
        }

        .float-child-left {
            width: 75%;
            float: left;
            padding: 2px;
        }

        .float-child-right {
            width: 25%;
            float: right;
            padding: 2px;
        }

        #boxframeprayer {
            width: 100%;
            background: #506A1B;
            direction: ltr;
            color: #FFFFFF;
            padding: 5px;
            font-family: Tahoma, Geneva, sans-serif;
            border-radius: 4px;
            box-sizing: border-box
        }

        #boxframeprayer img {
            border: 0
        }

        #boxframeprayer table {
            border: 0;
            width: 100%;
            border-collapse: collapse
        }

        #boxframeprayer table tr td {
            vertical-align: top;
            padding: 8px
        }

        #boxframeprayer table tr:first-child td img {
            height: 70px
        }

        #boxframeprayer table tr td .currentpray {
            font-size: 15px;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, .63)
        }

        #boxframeprayer table tr td .thetimes {
            font-size: 12px;
            font-weight: normal;
            line-height: 16px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, .63)
        }

        #boxframeprayer table tr td .thetimes span:first-child {
            border-bottom: 1px solid #FFF
        }

        #boxframeprayer table tr td .datetime {
            font-size: 18px;
            font-weight: normal;
            line-height: 16px;
            text-align: left
        }

        #boxframeprayer table tr td .city {
            font-size: 18px;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, .63)
        }

        #boxframeprayer table tr td .country {
            font-size: 12px;
            font-weight: normal;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, .63)
        }

        #boxframeprayer table tr.headtdprayer td {
            font-size: 24px;
            text-align: center;
            background: #3a5405
        }

        #boxframeprayer table.tbllistprayer tr td {
            font-size: 24px;
            text-align: center;
            border-left: 0px solid #6E9226;
            border-right: 0px solid #6E9226;
            border-bottom: 1px solid #6E9226;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, .63)
        }

        .datetime {
            font-size: 20px;
        }

        .optiontr1 select {
            max-width: 100px
        }

        td.heightlithcolor {
            background: #3A4E13
        }
    </style>
</head>

<body style="height: 100vh;">

    <div class="float-container">

        <div class="float-child-left">


            <div class="slideshow-container" style="width:100%;">

                <div class="mySlides fade" height="100%">
                    <div class="numbertext">1 / 9</div>
                    <img src="images/Fundraising_Ramadan_2022_v2.001.jpeg" style="width:100%; height:90vh;">
                </div>

                <div class="mySlides fade">
                    <div class="numbertext">2 / 9</div>
                    <img src="images/Fundraising_Ramadan_2022_v2.002.jpeg" style="width:100%; height:90vh;">
                </div>

                <div class="mySlides fade">
                    <div class="numbertext">3 / 9</div>
                    <img src="images/Fundraising_Ramadan_2022_v2.003.jpeg" style="width:100%; height:90vh;">
                </div>

                <div class="mySlides fade">
                    <div class="numbertext">4 / 9</div>
                    <img src="images/Fundraising_Ramadan_2022_v2.004.jpeg" style="width:100%; height:90vh;">
                </div>

                <div class="mySlides fade">
                    <div class="numbertext">5 / 9</div>
                    <img src="images/Fundraising_Ramadan_2022_v2.005.jpeg" style="width:100%; height:90vh;">
                </div>

                <div class="mySlides fade">
                    <div class="numbertext">6 / 9</div>
                    <img src="images/Fundraising_Ramadan_2022_v2.006.jpeg" style="width:100%; height:90vh;">
                </div>

                <div class="mySlides fade">
                    <div class="numbertext">7 / 9</div>
                    <img src="images/Fundraising_Ramadan_2022_v2.007.jpeg" style="width:100%; height:90vh;">
                </div>

                <div class="mySlides fade">
                    <div class="numbertext">8 / 9</div>
                    <img src="images/Fundraising_Ramadan_2022_v2.008.jpeg" style="width:100%; height:90vh;">
                </div>

                <div class="mySlides fade">
                    <div class="numbertext">9 / 9</div>
                    <img src="images/Fundraising_Ramadan_2022_v2.009.jpeg" style="width:100%; height:90vh;">
                </div>
            </div>
            <br>

            <div style="text-align:center;">
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>
        </div>

        <div class="float-child-right">

                <div class="mypanel"></div>
                <div id="boxframeprayer">
                    <table>
                        <tbody>
                            <tr>
                                <td>
                                    <img src="images/IACC_Logo_v2.jpeg"></td>
                                <td>
                                    <div class="currentprayer"></div>
                                    <div class="city" id="city"></div>
                                </td>
                                <td>
                                    Current Time:<br> <span id="datetime"></span>

                                        <script>
                                            function refreshTime() {
                                                const timeDisplay = document.getElementById("datetime");
                                                const dateString = new Date().toLocaleTimeString();
                                                timeDisplay.textContent = dateString;
                                                }
                                            setInterval(refreshTime, 1000);
                                        </script>
                                    <p></p>
                                    <div id="dategregorian"></div>
                                    <div id="datehijri"></div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="tbllistprayer">
                        <tbody>
                            <tr class="headtdprayer">
                                <td colspan="3" class="heightlithcolor">Prayer</td>
                                <td colspan="3" class="heightlithcolor">Time</td>
                            </tr>
                            <tr>
                                <td colspan="3" >Fajr</td>
                                <td colspan="3" id="fajrtime"></td>
                            </tr>
                            <tr>
                                <td colspan="3">Dhuhr</td>
                                <td colspan="3" id="dhuhrtime"></td>
                            </tr>
                            <tr>
                                <td colspan="3">Asr</td>
                                <td colspan="3" id="asrtime"></td>
                            </tr>
                            <tr>
                                <td colspan="3" >Maghrib</td>
                                <td colspan="3" id="maghribtime"></td>
                            </tr>
                            <tr>
                                <td colspan="3">Ishaa</td>
                                <td colspan="3" id="ishatime"></td>
                            </tr>
                            <tr style="background-color: white;">
                                <td colspan="3"></td>
                                <td colspan="3"></td>
                            </tr>
                            <tr>
                                <td colspan="3">Jumuaa</td>
                                <td colspan="3">1:00 PM</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <script>
                    //var todayDate = new Date().toISOString().slice(0, 10);
                    var todayDate = new Date();
                    var today = todayDate.getFullYear() + "-" + (todayDate.getMonth()+1) + "-" + todayDate.getDate();
                    console.log("today is " + today);

                    $.getJSON('https://api.pray.zone/v2/times/day.json?city=new-britain&school=2&timeformat=1&date='+today, function (data) {

                        var fajr = `${data.results.datetime[0].times.Fajr}`;
                        var dhuhr = `${data.results.datetime[0].times.Dhuhr}`;
                        var asr = `${data.results.datetime[0].times.Asr}`;
                        var maghrib = `${data.results.datetime[0].times.Maghrib}`;
                        var isha = `${data.results.datetime[0].times.Isha}`;

                        var city = `${data.results.location.city}`;
                        var dategregorian = `${data.results.datetime[0].date.gregorian}`;
                        var datehijri = `${data.results.datetime[0].date.hijri}`;

                        $("#fajrtime").html(fajr);
                        $("#dhuhrtime").html(dhuhr);
                        $("#asrtime").html(asr);
                        $("#maghribtime").html(maghrib);
                        $("#ishatime").html(isha);

                        $("#city").html(city);
                        $("#dategregorian").html(dategregorian);
                        $("#datehijri").html(datehijri);

                    });
                </script>

            </div>
        </div>
    </div>

    <script>
        let slideIndex = 0;
        showSlides();

        function showSlides() {
            let i;
            let slides = document.getElementsByClassName("mySlides");
            let dots = document.getElementsByClassName("dot");
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1 }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
            setTimeout(showSlides, 6000); // Change image every 6 seconds
        }

    </script>

    <script>
        var now = new Date();
        var night = new Date(
            now.getFullYear(),
            now.getMonth(),
            now.getDate() + 1, // the next day, ...
            0, 0, 0 // ...at 00:00:00 hours
        );
        var msTillMidnight = night.getTime() - now.getTime();
        console.log("msTillMidnight: " + msTillMidnight);
        setTimeout('window.location = window.location.href', msTillMidnight);
    </script>
</body>

</html>
